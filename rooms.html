{% extends "base.html" %}

{% block title %}RZA - Accommodation{% endblock %}

{% block content %}

<main class="rooms-page">

    <!-- Intro text + search bar -->
    <section class="rooms-hero">
        <div class="rooms-hero-text">
            <h1>Explore Our Rooms</h1>
            <p>Find the perfect stay for your visit.</p>

            <div class="rooms-search">
                <input type="text"
                       placeholder="Search..."
                       id="roomSearch">
                <button class="btn filter-btn" type="button">☰</button>
            </div>
        </div>
    </section>

    <!--
        ROOM LIST
        - If `rooms` is passed from Flask, we loop them.
        - If not, we fall back to 3 hard-coded examples.
    -->
    <section class="rooms-list">

        {% if rooms %}
            {# Dynamic rendering from backend data #}
            {% for room in rooms %}
                <article class="room-card">
                    <div class="room-image">
                        <img src="{{ url_for('static', filename=room.image_path) }}"
                             alt="{{ room.name }}">
                    </div>
                    <div class="room-info">
                        <h3>{{ room.name }}</h3>
                        <p>{{ room.description }}</p>
                        <p class="room-price">Price: £{{ room.price_per_night }} / night</p>
                    </div>
                </article>
            {% endfor %}
        {% else %}
            {# Fallback static content #}
            <article class="room-card">
                <div class="room-image">
                    <img src="{{ url_for('static', filename='img/room-deluxe.jpg') }}"
                         alt="Deluxe Suite">
                </div>
                <div class="room-info">
                    <h3>Deluxe Suite</h3>
                    <p>
                        A spacious modern suite with garden views, free Wi-Fi and
                        complimentary breakfast.
                    </p>
                    <p class="room-price">Price: £139 / night</p>
                </div>
            </article>

            <article class="room-card">
                <div class="room-image">
                    <img src="{{ url_for('static', filename='img/room-garden.jpg') }}"
                         alt="Garden Room">
                </div>
                <div class="room-info">
                    <h3>Garden Room</h3>
                    <p>
                        Cozy room facing the garden area, ideal for short stays and
                        solo travellers.
                    </p>
                    <p class="room-price">Price: £89 / night</p>
                </div>
            </article>

            <article class="room-card">
                <div class="room-image">
                    <img src="{{ url_for('static', filename='img/room-family.jpg') }}"
                         alt="Family Lodge">
                </div>
                <div class="room-info">
                    <h3>Family Lodge</h3>
                    <p>
                        Large family room with 4 beds, lounge area and free Wi-Fi.
                    </p>
                    <p class="room-price">Price: £169 / night</p>
                </div>
            </article>
        {% endif %}

    </section>

</main>

{% endblock %}

{% block scripts %}
    {{ super() }}
    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
{% endblock %}
    